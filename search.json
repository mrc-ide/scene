[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 MRC Centre Outbreak Analysis Modelling Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Pete Winskill. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Winskill P (2023). scene: Future Scenario Builder Malariaverse. R package version 0.1.0.","code":"@Manual{,   title = {scene: Future Scenario Builder for the Malariaverse},   author = {Pete Winskill},   year = {2023},   note = {R package version 0.1.0}, }"},{"path":"/index.html","id":"scene","dir":"","previous_headings":"","what":"Future Scenario Builder for the Malariaverse","title":"Future Scenario Builder for the Malariaverse","text":"scenario builder Malariaverse. install: introduction please see future scenario vignette","code":"# install.packages(\"devtools\") devtools::install_github(\"mrc-ide/scene\")"},{"path":"/reference/add_future_net_dist.html","id":null,"dir":"Reference","previous_headings":"","what":"Title Add future net input distribution — add_future_net_dist","title":"Title Add future net input distribution — add_future_net_dist","text":"Infer cycle period (N-yearly main distribution frequency) fit input distribution, ensuring already calibrated values remain fixed). Requires `itn_input_dist` values fitted NA.","code":""},{"path":"/reference/add_future_net_dist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title Add future net input distribution — add_future_net_dist","text":"","code":"add_future_net_dist(   interventions,   group_var,   off_year_max = 0.2,   cycle_period = 3 )"},{"path":"/reference/add_future_net_dist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title Add future net input distribution — add_future_net_dist","text":"interventions Site file interventions section group_var Site grouping off_year_max Maximum distribution outside N-yearly mass cycle_period Assumed cycle period (years) mass distribution","code":""},{"path":"/reference/aggregate_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate a data frame — aggregate_df","title":"Aggregate a data frame — aggregate_df","text":"Aggregate data frame","code":""},{"path":"/reference/aggregate_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate a data frame — aggregate_df","text":"","code":"aggregate_df(   df,   groups,   sum_cols = NULL,   mean_cols = NULL,   weighted_mean_cols = NULL,   w = NULL )"},{"path":"/reference/aggregate_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate a data frame — aggregate_df","text":"df data.frame groups character vector grouping variables sum_cols character vector variables summarise sum mean_cols character vector variables summarise mean weighted_mean_cols character vector variables summarise weighted mean w column name weights used weighted mean summary","code":""},{"path":"/reference/aggregate_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregate a data frame — aggregate_df","text":"aggregated (un-grouped) data frame","code":""},{"path":"/reference/ever_used.html","id":null,"dir":"Reference","previous_headings":"","what":"Select areas that have ever used an intervention — ever_used","title":"Select areas that have ever used an intervention — ever_used","text":"Select areas ever used intervention","code":""},{"path":"/reference/ever_used.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Select areas that have ever used an intervention — ever_used","text":"","code":"ever_used(interventions, var, group_var)"},{"path":"/reference/ever_used.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Select areas that have ever used an intervention — ever_used","text":"interventions Site file interventions section var Interventions variable check ever used group_var Site grouping","code":""},{"path":"/reference/example_site.html","id":null,"dir":"Reference","previous_headings":"","what":"Example site — example_site","title":"Example site — example_site","text":"example site demonstration","code":""},{"path":"/reference/example_site.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example site — example_site","text":"","code":"example_site"},{"path":"/reference/example_site.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example site — example_site","text":"## `example_site` named list length 3.","code":""},{"path":"/reference/expand_interventions.html","id":null,"dir":"Reference","previous_headings":"","what":"Expand the inereventions time frame for all sites — expand_interventions","title":"Expand the inereventions time frame for all sites — expand_interventions","text":"Expand inereventions time frame sites","code":""},{"path":"/reference/expand_interventions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Expand the inereventions time frame for all sites — expand_interventions","text":"","code":"expand_interventions(inteventions, max_year, group_var)"},{"path":"/reference/expand_interventions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Expand the inereventions time frame for all sites — expand_interventions","text":"inteventions Site file interventions section max_year Maximum year expand group_var Site grouping","code":""},{"path":"/reference/fill_extrapolate.html","id":null,"dir":"Reference","previous_headings":"","what":"Extrapolation of any NAs with previous value — fill_extrapolate","title":"Extrapolation of any NAs with previous value — fill_extrapolate","text":"Extrapolation NAs previous value","code":""},{"path":"/reference/fill_extrapolate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extrapolation of any NAs with previous value — fill_extrapolate","text":"","code":"fill_extrapolate(interventions, group_var, not = \"itn_input_dist\")"},{"path":"/reference/fill_extrapolate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extrapolation of any NAs with previous value — fill_extrapolate","text":"interventions Site file interventions section group_var Site grouping Character string naming Interventions extrapolated","code":""},{"path":"/reference/index_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Index a data.frame by another — index_df","title":"Index a data.frame by another — index_df","text":"Take data.frame `df` return row-index matching rows another, `filter_row`.","code":""},{"path":"/reference/index_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Index a data.frame by another — index_df","text":"","code":"index_df(df, filter_row)"},{"path":"/reference/index_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Index a data.frame by another — index_df","text":"df input data.frame obtain row indices filter_row matching data.frame. row `filter_row` matched row `df`.","code":""},{"path":"/reference/intervention_colours.html","id":null,"dir":"Reference","previous_headings":"","what":"Intervention colours — intervention_colours","title":"Intervention colours — intervention_colours","text":"Named colours intervention plotting","code":""},{"path":"/reference/intervention_colours.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Intervention colours — intervention_colours","text":"","code":"intervention_colours"},{"path":"/reference/intervention_colours.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Intervention colours — intervention_colours","text":"## `intervention_colours` named vector length 8.","code":""},{"path":"/reference/irs_parameters.html","id":null,"dir":"Reference","previous_headings":"","what":"IRS efficacy parameters — irs_parameters","title":"IRS efficacy parameters — irs_parameters","text":"IRS efficacy parameters","code":""},{"path":"/reference/irs_parameters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"IRS efficacy parameters — irs_parameters","text":"","code":"irs_parameters"},{"path":"/reference/irs_parameters.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"IRS efficacy parameters — irs_parameters","text":"## `irs_parameters` data.frame","code":""},{"path":"/reference/last_used.html","id":null,"dir":"Reference","previous_headings":"","what":"Select areas that have used an intervention in the last year with data — last_used","title":"Select areas that have used an intervention in the last year with data — last_used","text":"Select areas used intervention last year data","code":""},{"path":"/reference/last_used.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Select areas that have used an intervention in the last year with data — last_used","text":"","code":"last_used(interventions, var, group_var)"},{"path":"/reference/last_used.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Select areas that have used an intervention in the last year with data — last_used","text":"interventions Site file interventions section var Interventions variable check last used group_var Site grouping","code":""},{"path":"/reference/linear_interpolate.html","id":null,"dir":"Reference","previous_headings":"","what":"Linearly interpolate NAs points — linear_interpolate","title":"Linearly interpolate NAs points — linear_interpolate","text":"Linearly interpolate NAs points","code":""},{"path":"/reference/linear_interpolate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Linearly interpolate NAs points — linear_interpolate","text":"","code":"linear_interpolate(interventions, vars, group_var)"},{"path":"/reference/linear_interpolate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Linearly interpolate NAs points — linear_interpolate","text":"interventions Site file interventions section vars Character string naming Interventions interpolated group_var Site grouping","code":""},{"path":"/reference/link_resistance.html","id":null,"dir":"Reference","previous_headings":"","what":"Add in resistance projections — link_resistance","title":"Add in resistance projections — link_resistance","text":"Add resistance projections","code":""},{"path":"/reference/link_resistance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add in resistance projections — link_resistance","text":"","code":"link_resistance(interventions, pyrethroid_resistance, group_var)"},{"path":"/reference/link_resistance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add in resistance projections — link_resistance","text":"interventions Site file interventions section pyrethroid_resistance Site file pyrethroid resistance group_var Site grouping","code":""},{"path":"/reference/link_vector_control_parameters.html","id":null,"dir":"Reference","previous_headings":"","what":"Link net type, irs type and net resistance to efficacy parameters — link_vector_control_parameters","title":"Link net type, irs type and net resistance to efficacy parameters — link_vector_control_parameters","text":"Link net type, irs type net resistance efficacy parameters","code":""},{"path":"/reference/link_vector_control_parameters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Link net type, irs type and net resistance to efficacy parameters — link_vector_control_parameters","text":"","code":"link_vector_control_parameters(interventions)"},{"path":"/reference/link_vector_control_parameters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Link net type, irs type and net resistance to efficacy parameters — link_vector_control_parameters","text":"interventions Site file interventions section","code":""},{"path":"/reference/net_efficacy.html","id":null,"dir":"Reference","previous_headings":"","what":"Net efficacy parameters — net_efficacy","title":"Net efficacy parameters — net_efficacy","text":"Linking efficacy level Pyrethroid resistance","code":""},{"path":"/reference/net_efficacy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Net efficacy parameters — net_efficacy","text":"","code":"net_efficacy"},{"path":"/reference/net_efficacy.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Net efficacy parameters — net_efficacy","text":"## `net_efficacy` data.frame","code":""},{"path":"/reference/plot_interventions.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot interventions — plot_interventions","title":"Plot interventions — plot_interventions","text":"Plot interventions","code":""},{"path":"/reference/plot_interventions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot interventions — plot_interventions","text":"","code":"plot_interventions(   interventions,   population,   group_var,   include = c(\"itn_use\", \"itn_input_dist\", \"fitted_usage\", \"tx_cov\", \"irs_cov\",     \"rtss_cov\", \"smc_cov\", \"pmc_cov\"),   labels = c(\"ITN usage\", \"ITN model input\", \"ITN model usage\", \"Treatment\", \"IRS\",     \"RTSS\", \"SMC\", \"PMC\"),   text_size = 8,   facet_rows = 4 )"},{"path":"/reference/plot_interventions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot interventions — plot_interventions","text":"interventions Interventions input population Population input group_var Site grouping include Intervention variables include labels Labels variables include text_size Size font facet_rows Number rows faceted plot","code":""},{"path":"/reference/plot_interventions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot interventions — plot_interventions","text":"Intervention plot","code":""},{"path":"/reference/plot_interventions_combined.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot multi panel interventions — plot_interventions_combined","title":"Plot multi panel interventions — plot_interventions_combined","text":"Plot multi panel interventions","code":""},{"path":"/reference/plot_interventions_combined.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot multi panel interventions — plot_interventions_combined","text":"","code":"plot_interventions_combined(   interventions,   population,   group_var,   include = c(\"itn_use\", \"itn_input_dist\", \"fitted_usage\", \"tx_cov\", \"irs_cov\",     \"rtss_cov\", \"smc_cov\", \"pmc_cov\"),   labels = c(\"ITN usage\", \"ITN model input\", \"ITN model usage\", \"Treatment\", \"IRS\",     \"RTSS\", \"SMC\", \"PMC\"),   text = c(11, 11),   facet_rows = 4 )"},{"path":"/reference/plot_interventions_combined.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot multi panel interventions — plot_interventions_combined","text":"interventions Interventions input population Population input group_var Site grouping include Intervention variables include labels Labels variables include text vector text size aggregated disaggregated plots facet_rows Number rows faceted plot","code":""},{"path":"/reference/plot_interventions_combined.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot multi panel interventions — plot_interventions_combined","text":"Combined country admin plot","code":""},{"path":"/reference/set_change_point.html","id":null,"dir":"Reference","previous_headings":"","what":"Set an intervention change point — set_change_point","title":"Set an intervention change point — set_change_point","text":"Modifies site file interventions section new change point intervention","code":""},{"path":"/reference/set_change_point.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set an intervention change point — set_change_point","text":"","code":"set_change_point(interventions, sites, var, year, target)"},{"path":"/reference/set_change_point.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set an intervention change point — set_change_point","text":"interventions Site file interventions section sites Site reference modify var Interventions variable modify year Year change point target New value change point","code":""},{"path":"/reference/tidyeval.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy eval helpers — tidyeval","title":"Tidy eval helpers — tidyeval","text":"page lists tidy eval tools reexported package rlang. learn using tidy eval scripts packages high level, see dplyr programming vignette ggplot2 packages vignette. Metaprogramming section Advanced R may also useful deeper dive. tidy eval operators {{, !!, !!! syntactic constructs specially interpreted tidy eval functions. mostly need {{, !! !!! advanced operators use simple cases. curly-curly operator {{ allows tunnel data-variables passed function arguments inside tidy eval functions. {{ designed individual arguments. pass multiple arguments contained dots, use ... normal way.   enquo() enquos() delay execution one several function arguments. former returns single expression, latter returns list expressions. defused, expressions longer evaluate . must injected back evaluation context !! (single expression) !!! (list expressions).   simple case, code equivalent usage {{ ... . Defusing enquo() enquos() needed complex cases, instance need inspect modify expressions way. .data pronoun object represents current slice data. variable name string, use .data pronoun subset variable [[.   Another tidy eval operator :=. makes possible use glue curly-curly syntax LHS =. technical reasons, R language support complex expressions left =, use := workaround.   Many tidy eval functions like dplyr::mutate() dplyr::summarise() give automatic name unnamed inputs. need create sort automatic names , use as_label(). instance, glue-tunnelling syntax can reproduced manually :   Expressions defused enquo() (tunnelled {{) need simple column names, can arbitrarily complex. as_label() handles cases gracefully. code assumes simple column name, use as_name() instead. safer throws error input name expected.","code":"my_function <- function(data, var, ...) {   data %>%     group_by(...) %>%     summarise(mean = mean({{ var }})) } my_function <- function(data, var, ...) {   # Defuse   var <- enquo(var)   dots <- enquos(...)    # Inject   data %>%     group_by(!!!dots) %>%     summarise(mean = mean(!!var)) } my_var <- \"disp\" mtcars %>% summarise(mean = mean(.data[[my_var]])) my_function <- function(data, var, suffix = \"foo\") {   # Use `{{` to tunnel function arguments and the usual glue   # operator `{` to interpolate plain strings.   data %>%     summarise(\"{{ var }}_mean_{suffix}\" := mean({{ var }})) } my_function <- function(data, var, suffix = \"foo\") {   var <- enquo(var)   prefix <- as_label(var)   data %>%     summarise(\"{prefix}_mean_{suffix}\" := mean(!!var)) }"}]
